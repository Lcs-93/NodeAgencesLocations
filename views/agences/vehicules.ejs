<!DOCTYPE html>
<html>
<head>
    <title>Véhicules de l'Agence</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-800 p-10">

    <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold mb-6">🚗 Véhicules de l'agence : <%= agence.nom %></h1>

        <!-- Boutons de navigation -->
        <div class="mb-6 flex space-x-4">
            <form action="/agences" method="GET">
                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition duration-200 transform hover:scale-105">⬅️ Retour aux agences</button>
            </form>
            <form action="/agences/<%= agence.id %>/vehicules/new" method="GET">
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 transition duration-200 transform hover:scale-105">➕ Ajouter un véhicule</button>
            </form>
        </div>

        <!-- Liste des véhicules -->
        <ul class="space-y-4">
            <% if (vehicules.length > 0) { %>
                <% vehicules.forEach(vehicule => { %>
                    <li class="p-6 border border-gray-300 rounded-lg bg-gray-50 shadow">
                        <div class="mb-4">
                            <strong class="text-xl"><%= vehicule.marque %> <%= vehicule.modele %></strong> <br>
                            📄 Immatriculation : <%= vehicule.immatriculation %> <br>
                            📅 Année : <%= vehicule.annee %> <br>
                            🔄 Statut : <%= vehicule.statut %> <br>
                            💵 Prix par jour : <%= vehicule.prix_par_jour %> €
                        </div>
                        
                        <!-- Boutons d'actions -->
                        <div class="flex space-x-4 mt-4">
                            <!-- Modifier -->
                            <form action="/vehicules/<%= vehicule.id %>/edit" method="GET">
                                <button type="submit" class="bg-yellow-500 text-white px-4 py-2 rounded-lg shadow hover:bg-yellow-600 transition duration-200 transform hover:scale-105">✏️ Modifier</button>
                            </form>
                            
                            <!-- Supprimer -->
                            <form action="/vehicules/<%= vehicule.id %>/delete" method="POST">
                                <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded-lg shadow hover:bg-red-600 transition duration-200 transform hover:scale-105">🗑️ Supprimer</button>
                            </form>
                        </div>
                    </li>
                <% }); %>
            <% } else { %>
                <li class="p-4 text-gray-500">Aucun véhicule trouvé pour cette agence.</li>
            <% } %>
        </ul>
    </div>

</body>
</html>
